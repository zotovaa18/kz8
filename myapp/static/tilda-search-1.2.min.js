function t_search__init(){var styleTag="<style>@-webkit-keyframes rotate360{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-moz-keyframes rotate360{to{-moz-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes rotate360{to{-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes rotate360{to{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}.t-site-search-input input::-ms-clear{display:none}.t-site-search-dm{z-index:9999;position:absolute;-webkit-box-shadow:0 2px 10px rgba(0,0,0,.1);-moz-box-shadow:0 2px 10px rgba(0,0,0,.1);box-shadow:0 2px 10px rgba(0,0,0,.1);border:1px solid rgba(0,0,0,.05);background-color:#fff;max-height:70vh;overflow-y:scroll;right:0;left:0;text-align:left}.t-site-search-dm__result{margin:15px}.t-site-search-dm__result a{color:#111!important;text-decoration:none}.t-site-search-dm__result__title{color:#000;text-align:left;font-size:20px;margin-bottom:3px;height:auto;display:block!important}.t-site-search-dm__result__product_title b,.t-site-search-dm__result__title b{font-weight:600}.t-site-search-close,.t-site-search-loader{position:absolute;display:none;top:0;bottom:0;margin:auto;right:20px}.t-site-search-loader{-webkit-animation:rotate360 2s linear infinite;-moz-animation:rotate360 2s linear infinite;-o-animation:rotate360 2s linear infinite;animation:rotate360 2s linear infinite;opacity:.7}.t-site-search-close{opacity:.8;cursor:pointer}.t-site-search-popup__preloader{-webkit-animation:rotate360 2s linear infinite;-moz-animation:rotate360 2s linear infinite;-o-animation:rotate360 2s linear infinite;animation:rotate360 2s linear infinite;margin-left:15px;display:none}.t-site-search-dm__result__body{font-size:14px;text-align:left;color:#323232}.t-site-search-dm__result__product,.t-site-search-dm__result__product_text{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex}.t-site-search-dm__result__product_text{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.t-site-search-dm__result__product_img{position:absolute;top:0;bottom:0;left:0;right:0;-webkit-background-size:cover;-moz-background-size:cover;background-size:cover;background-position:center;background-repeat:no-repeat}.t-site-search-dm__result__product_title{color:#000;text-align:left;margin-bottom:3px;height:auto;display:block}.t-site-search-dm__result__product_descr{opacity:0.5}.t-site-search-dm__result__product_price{font-weight:700;margin-top:2px}.t-site-search-dm__allresultslink{padding-bottom:30px;padding-right:20px;text-decoration:underline!important;color:#000!important;float:right;cursor:pointer}.t-site-search-popup,.t-site-search-popup__background{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.t-site-search-popup__background{position:fixed;top:0;right:0;bottom:0;left:0;overflow-y:auto;-webkit-transition:opacity ease-in-out .3s;-moz-transition:opacity ease-in-out .3s;-o-transition:opacity ease-in-out .3s;transition:opacity ease-in-out .3s;width:100%;height:100%;padding:0 20px;background-color:rgba(0,0,0,.6);z-index:9999999}.t-site-search-popup{z-index:100000;padding:60px 60px 0!important;-webkit-box-shadow:0 2px 10px rgba(0,0,0,.1);-moz-box-shadow:0 2px 10px rgba(0,0,0,.1);box-shadow:0 2px 10px rgba(0,0,0,.1);border:1px solid rgba(0,0,0,.05);background-color:#fff;margin:5vh auto;min-height:90vh}.t-site-search-pu__close img{width:25px;opacity:1;float:right;margin-right:-35px;cursor:pointer;margin-top:-40px}.t-site-search-pu__pagination{margin-bottom:40px;display:block}.t-site-search-pu__pagination-active{pointer-events:none;color:gray}.t-site-search-pu__pagination span{margin:0 15px 0 0}.t-site-search-pu__pagination span:first-child{margin-left:0}.t-site-search-pu__pagination span:last-child{margin-right:0}.t-site-search-pu__pagination span[page]{cursor:pointer;font-size:16px;font-weight:700;width:30px;max-width:30px;height:30px;line-height:32px;display:-webkit-inline-box;display:-webkit-inline-flex;display:-moz-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}.body-fix{height:100vh;min-height:100vh;overflow:hidden}@media screen and (max-width:620px){.t-site-search-popup{padding:60px 20px 0!important;top:0;margin-bottom:0}.t-site-search-pu__close img{margin-right:-5px;margin-top:-40px}}.t-site-search-dm__thubmnail{display:-webkit-box;display:-ms-flexbox;display:-webkit-flex;display:-moz-box;display:flex;-webkit-box-align:center;-ms-flex-align:center;-webkit-align-items:center;-moz-box-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;-moz-box-pack:center;justify-content:center;border:1px solid #eee;margin-right:15px;min-width:70px;max-width:70px;min-height:70px;max-height:70px;position:relative}</style>";document.head.insertAdjacentHTML("beforeend",styleTag);var inputFormWidth=0,inputFormLeft=0,timerID=0,currentInput,currentPage,xhr;window.t_search__searchTarget="";var close_svg="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAxIiBoZWlnaHQ9IjEwMSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNOTguNjUgOTYuNTVMNTIuMTEgNDkuOTMgOTguMzYgMy41Yy41OS0uNTkuNTktMS40NyAwLTIuMDZhMS40MiAxLjQyIDAgMDAtMi4wNiAwTDUwLjA1IDQ3Ljg3IDMuNjkgMS40NGExLjQyIDEuNDIgMCAwMC0yLjA1IDAgMS40MiAxLjQyIDAgMDAwIDIuMDZsNDYuMzUgNDYuNDNMMS40NCA5Ni41NUExLjQyIDEuNDIgMCAwMDMuNCA5OC42bDQ2LjU1LTQ2LjYyTDk2LjUgOTguNmMuMy4zLjY4LjM5Ljk4LjM5LjMgMCAuNjgtLjEuOTgtLjQuNjgtLjU4LjY4LTEuNDYuMi0yLjA1eiIgZmlsbD0iIzExMSIgc3Ryb2tlPSIjMTExIi8+PC9zdmc+",loader_svg="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2NCIgaGVpZ2h0PSI2NCIgdmlld0JveD0iMCAwIDY0IDY0IiBmaWxsPSJub25lIj48c3R5bGU+LmF7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlOiM3RjdGN0Y7fS5ie3N0cm9rZS1saW5lam9pbjpiZXZlbDtzdHJva2Utd2lkdGg6MjtzdHJva2U6IzdGN0Y3Rjt9PC9zdHlsZT48cGF0aCBkPSJNMzMgMUM0MC43IDEgNDguNCAzLjkgNTQuMiA5LjggNjQuOSAyMC41IDY1LjggMzcuMiA1NyA0OUw1MSA1NSIgY2xhc3M9ImEiLz48cGF0aCBkPSJNMzEgNjNDMjMuMyA2MyAxNS42IDYwLjEgOS44IDU0LjIgLTAuOSA0My41LTEuOCAyNi44IDcgMTVMMTMgOSIgY2xhc3M9ImEiLz48cGF0aCBkPSJNNTEgNDRWNTVINjIiIGNsYXNzPSJiIi8+PHBhdGggZD0iTTEzIDIwVjlIMiIgY2xhc3M9ImIiLz48L3N2Zz4=",lang=(window.navigator.userLanguage||window.navigator.language).toUpperCase().slice(0,2),allrecords=document.getElementById("allrecords"),acceptedLangs;if(allrecords){var projectLang=allrecords.getAttribute("data-tilda-project-lang");projectLang&&(lang=projectLang)}-1===["EN","RU","FR","DE","ES","PT","UK","JA","ZH","PL","KK","IT","LV"].indexOf(lang)&&(lang="EN");var translation={placeholder:{EN:"Search",RU:"Поиск",FR:"Rechercher",DE:"Suche",ES:"Buscar",PT:"Procurar",UK:"Пошук",JA:"探す",ZH:"搜索",PL:"Wyszukiwanie",KK:"Іздеу",IT:"Ricerca",LV:"Meklēt"},noResult:{EN:"Nothing found",RU:"Ничего не найдено",FR:"Rien n'a été trouvé",DE:"Nichts gefunden",ES:"Nada Encontrado",PT:"Nada encontrado",UK:"Нічого не знайдено",JA:"何も見つかりません",ZH:"没有发现",PL:"Nic nie znaleziono",KK:"Ештеңе табылмады",IT:"Non abbiamo trovato nulla",LV:"Nekas nav atrasts"},showAll:{EN:"Show all results",RU:"Показать все результаты",FR:"Afficher tous les résultats",DE:"Alle Ergebnisse anzeigen",ES:"Mostrar todos los resultados",PT:"Mostrar todos os resultados",UK:"Показати всі результати",JA:"すべての検索結果を表示",ZH:"显示所有结果",PL:"Pokaż wszystko",KK:"Барлық нәтижелерді көрсету",IT:"Mostra tutti i risultati",LV:"Rādīt visus rezultātus"},showAlltitle:{EN:"Results for",RU:"Результаты по запросу",FR:"Résultats pour",DE:"Ergebnisse für",ES:"Resultados para",PT:"Resultados para",UK:"Результати за запитом",JA:"の結果：",ZH:"结果：",PL:"Wyniki wyszukiwania",KK:"Арналған нәтижелері",IT:"Risultati per",LV:"Rezultāti par"},errorOccurred:{EN:"An error occurred while sending the request",RU:"При отправке запроса произошла ошибка",FR:"Une erreur est survenue pendant l'envoi de la demande",DE:"Fehler beim Senden der Anforderung",ES:"Se produjo un error al enviar la solicitud",PT:"Ocorreu um erro ao enviar o pedido",UK:"При відправленні запиту виникла помилка",JA:"リクエストを送信中にエラーが発生しました",ZH:"发送请求时出错",PL:"Wystąpił błąd podczas wysyłania żądania",KK:"Сұрау жіберу кезінде қате пайда болды",IT:"Si è verificato un errore durante l'invio della richiesta",LV:"Radās kļūda nosūtot pieprasījumu"},errorOccurredText:{EN:"The server could not respond to the request",RU:"Сервер не смог ответить на запрос",FR:"Le serveur n'a pas pu répondre à la demande",DE:"Der Server konnte nicht auf die Anfrage antworten",ES:"El servidor no ha podido responder a la solicitud",PT:"O servidor não conseguiu responder ao pedido",UK:"Сервер не зміг відповісти на запит",JA:"サーバが要求に応答することができませんでした",ZH:"服务器无法响应请求",PL:"Serwer nie odpowiada",KK:"Сервер сұрауына жауап алмады,",IT:"Il server non ha potuto rispondere alla richiesta",LV:"Serveris nevarēja atbildēt uz pieprasījumu"},description:{EN:"Description",RU:"Описание",FR:"La description",DE:"Beschreibung",ES:"Descripción",PT:"Descrição",UK:"Опис",JA:"説明",ZH:"描述",PL:"Opis",KK:"Сипаттамасы",IT:"Descrizione",LV:"Apraksts"}},isMobile,eventOnChangeScreenVal=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?"orientationchange":"resize";window.addEventListener(eventOnChangeScreenVal,t_search__searchDMClose);var siteSearchInputs=document.querySelectorAll(".t-site-search-input input");if(Array.prototype.forEach.call(siteSearchInputs,(function(siteSearchInput){siteSearchInput.getAttribute("placeholder")||siteSearchInput.setAttribute("placeholder",translation.placeholder[lang]),siteSearchInput.addEventListener("keyup",(function(e){var siteSearchDM;(window.t_search__searchTarget=siteSearchInput.getAttribute("data-search-target"),13===e.keyCode&&(currentInput=siteSearchInput,t_search__requestSth(2),siteSearchInput.blur()),27===e.keyCode)&&(document.querySelectorAll(".t-site-search-dm").length&&(t_search__searchDMClose(),e.preventDefault()))}))})),"URLSearchParams"in window){var search=new URLSearchParams(window.location.search),query=search.get("search"),slice=search.get("slice");if(null===slice&&(slice=1),null!==query){var newInput=document.createElement("input");newInput.value=t_search__escapeHtml(query),currentInput=newInput,currentPage=slice,t_search__requestSth(2,slice,query)}}function t_search__waitEscPressed(e){if(27==e.keyCode){var siteSearchDM=document.querySelectorAll(".t-site-search-dm"),siteSearchPopup=document.querySelectorAll(".t-site-search-popup");siteSearchDM.length&&(t_search__searchDMClose(),e.preventDefault()),siteSearchPopup.length&&(t_search__hidePopup(),xhr&&xhr.abort(),e.preventDefault())}}function t_search__waitClickDone(e){var searchCloseImg,siteSearchPopup,targetParent;e.target.closest(".t-site-search-pu__close img")&&(document.querySelectorAll(".t-site-search-pu__close img").length&&(t_search__hidePopup(),xhr&&xhr.abort()));(e.target.closest(".t-site-search-dm")||e.target.closest("input")===currentInput||t_search__searchDMClose(),e.target.closest(".t-site-search-popup"))||document.querySelectorAll(".t-site-search-popup").length&&(t_search__hidePopup(),xhr&&xhr.abort());e.target.closest(".t-site-search-close")&&(t_search__searchDMClose(),e.target.closest("div").querySelector("input").value="",e.target.style.display="none")}function t_search__inputInit(){var searchInputs=document.querySelectorAll(".t-site-search-input input");Array.prototype.forEach.call(searchInputs,(function(searchInput){searchInput.insertAdjacentHTML("afterend",'<img width="18px" class="t-site-search-loader" src="'+loader_svg+'">'),searchInput.insertAdjacentHTML("afterend",'<img width="18px" class="t-site-search-close" src="'+close_svg+'">'),searchInput.addEventListener("input",(function(e){e.target.value.length<2&&t_search__searchDMClose();var currentSearchInput=e.target.closest("input"),parentBlock=e.target.closest("div.t-site-search-input"),parentBlockAttr=parentBlock?parentBlock.getAttribute("data-onlypopup"):"",documentHeight=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight),searchInputTopPos=currentSearchInput?currentSearchInput.getBoundingClientRect().top:0;if(parentBlockAttr)return!1;if(documentHeight-(searchInputTopPos+window.pageYOffset)<400)return!1;if((currentInput=currentSearchInput).value.length>=2&&(timerID>0&&clearTimeout(timerID),timerID=setTimeout((function(){t_search__requestSth(1)}),300)),0===currentInput.value.length){var currentInputParent,currentInputImgClose=currentInput.closest("div").querySelector("img.t-site-search-close");currentInputImgClose&&(currentInputImgClose.style.display="none")}}))}))}function t_search__setBtnEvent(){var searchInputBtns=document.querySelectorAll(".t-site-search-input button");Array.prototype.forEach.call(searchInputBtns,(function(searchInputBtn){searchInputBtn.addEventListener("click",(function(e){window.t_search__searchTarget=searchInputBtn.closest(".t-site-search-input").querySelector(".t-input").getAttribute("data-search-target");var btnParent=searchInputBtn.closest("div.t-site-search-input");btnParent&&btnParent.querySelector("input")&&(currentInput=btnParent.querySelector("input"),t_search__requestSth(2)),e.target.blur()}))}))}function t_search__setInputsEvent(){var searchBlockList=document.querySelectorAll(".t-site-search-input");Array.prototype.forEach.call(searchBlockList,(function(searchBlock){searchBlock.addEventListener("click",(function(e){window.t_search__searchTarget=searchBlock.querySelector(".t-input").getAttribute("data-search-target"),e.target.closest(".t-site-search-dm__allresultslink")&&t_search__requestSth(2)}))}))}function t_search__displayDownMenu(sResults){document.body.addEventListener("keyup",t_search__waitEscPressed),document.body.addEventListener("click",t_search__waitClickDone);var siteSearchDMList=document.querySelectorAll(".t-site-search-dm");Array.prototype.forEach.call(siteSearchDMList,(function(siteSearchDM){siteSearchDM.remove()}));var html='<div class="t-site-search-dm" style="width: '+inputFormWidth+"px !important; left: "+inputFormLeft+'px !important">';if(sResults.total>0){Array.prototype.forEach.call(sResults.pages,(function(value){var title=value.title,highlight=value.highlight,pageurl=value.pageurl;if(!0===sResults.error)html+='<div class="t-site-search-dm__result"><div class="t-site-search-dm__result__title t-text">'+title+'</div><div class="t-site-search-dm__result__body t-text">'+highlight+"</div></div>";else if(void 0!==value.product){var productTitle=value.product.title,title=productTitle.length<2?value.highlight:productTitle,descr=highlight.replace(productTitle,"").trim(),currency=value.product.currency,currency_dec=value.product.currency_dec,currency_side=value.product.currency_side,price=(""===currency_dec?parseFloat(value.product.price):value.product.price)||"";""!==currency&&""!==price&&(price="r"===currency_side?price+" "+currency:"l"===currency_side?currency+" "+price:price);var img=value.product.img,imgStr="";img&&(imgStr='<div class="t-site-search-dm__thubmnail"><div class="t-site-search-dm__result__product_img" style="background-image:url(\''+img+"')\"></div></div>"),html+='<div class="t-site-search-dm__result"><a class="t-site-search-dm__result__product" target="_blank" href="'+pageurl+'">'+imgStr+'<div class="t-site-search-dm__result__product_text"><div class="t-site-search-dm__result__product_title t-name t-name_xs">'+title+'</div><div class="t-site-search-dm__result__product_descr t-descr t-descr_xs">'+descr+'</div><div class="t-site-search-dm__result__product_price t-descr t-descr_xs">'+price+"</div></div></a></div>"}else html+='<div class="t-site-search-dm__result"><a target="_blank" href="'+pageurl+'"><div class="t-site-search-dm__result__title t-text">'+title+'</div><div class="t-site-search-dm__result__body t-text">'+highlight+"</div></a></div>"})),sResults.total>10&&(html+='<a class="t-site-search-dm__allresultslink t-descr">'+translation.showAll[lang]+"</a>");var closeImages=document.querySelectorAll(".tilda-site-search-close-img");Array.prototype.forEach.call(closeImages,(function(closeImg){closeImg.style.display="inline"}))}else html+='<div class="t-site-search-dm__result"><div class="t-site-search-dm__result__title t-text">'+translation.noResult[lang]+"</div></div>";html+="</div>",currentInput.insertAdjacentHTML("afterend",html);var currentInputParent=currentInput.closest("div"),currentParentClose=currentInputParent?currentInputParent.querySelector(".t-site-search-close"):null;currentParentClose&&("none"===currentParentClose.style.display?currentParentClose.style.display="block":currentParentClose.style.display="")}function t_search__displayPopup(sResults,initUp){if(initUp=initUp||!1,document.body.addEventListener("keyup",t_search__waitEscPressed),document.body.addEventListener("click",t_search__waitClickDone),"URLSearchParams"in window){var search=new URLSearchParams(window.location.search),query=search.get("search"),slice=search.get("slice"),searchTarget=search.get("searchtarget");currentInput&&query!==currentInput.value&&search.set("search",t_search__escapeHtml(currentInput.value)),slice!==currentPage&&currentPage>0&&search.set("slice",currentPage>0?currentPage:1),searchTarget||""===window.t_search__searchTarget||search.set("searchtarget",window.t_search__searchTarget);try{window.history.replaceState(null,"",window.location.pathname.replace(/\/+/g,"/")+"?"+search.toString())}catch(e){}}var siteSearchDMList=document.querySelectorAll(".t-site-search-dm");Array.prototype.forEach.call(siteSearchDMList,(function(siteSearchDM){siteSearchDM.remove()}));var html='<div class="t-site-search-popup__background"><div class="t-site-search-popup t-width t-width_8"><div class="t-site-search-pu__close"><img style="width:20px" src="'+close_svg+'"></div><div class="t-site-search-pu">';if(!0!==sResults.error&&(html+='<h3 class="t-title" style="margin: 15px; margin-bottom: 25px; margin-top: 0">'+translation.showAlltitle[lang]+": "+t_search__escapeHtml(currentInput.value)+"</h3>"),initUp&&(html+='<img width="24px" class="t-site-search-popup__preloader" src="'+loader_svg+'" />'),sResults.total>0&&void 0!==sResults.pages){if(Array.prototype.forEach.call(sResults.pages,(function(value){var title=value.title,highlight=value.highlight,pageurl=value.pageurl;if(!0===sResults.error)html+='<div class="t-site-search-dm__result"><div class="t-site-search-dm__result__title t-descr">'+title+'</div><div class="t-site-search-dm__result__body t-text">'+highlight+"</div></div>";else if(void 0!==value.product){var productTitle=value.product.title,title=productTitle.length<2?value.highlight:productTitle,currency=value.product.currency,currency_dec=value.product.currency_dec,descr=highlight.replace(productTitle,"").trim(),currency_side=value.product.currency_side,price=(""===currency_dec?parseFloat(value.product.price):value.product.price)||"";""!==currency&&""!==price&&(price="r"===currency_side?price+" "+currency:"l"===currency_side?currency+" "+price:price);var img=value.product.img,imgStr="";img&&(imgStr='<div class="t-site-search-dm__thubmnail"><div class="t-site-search-dm__result__product_img" style="background-image:url(\''+img+"')\"></div></div>"),html+='<div class="t-site-search-dm__result"><a class="t-site-search-dm__result__product" target="_blank" href="'+pageurl+'">'+imgStr+'<div class="t-site-search-dm__result__product_text"><div class="t-site-search-dm__result__product_title t-name t-name_xs">'+title+'</div><div class="t-site-search-dm__result__product_descr t-descr t-descr_xs">'+descr+'</div><div class="t-site-search-dm__result__product_price t-descr t-descr_xs">'+price+"</div></div></a></div>"}else html+='<div class="t-site-search-dm__result"><a target="_blank" href="'+pageurl+'"><div class="t-site-search-dm__result__title t-descr">'+title+'</div><div class="t-site-search-dm__result__body t-text">'+highlight+"</div></a></div>"})),html+="</div>",sResults.pagin>1){html+='<hr style="opacity: 0.2; margin-top: 20px; margin-bottom: 20px">',html+='<div class="t-site-search-pu__pagination">';for(var page=1;page<=sResults.pagin;page++)html+=page!=currentPage?'<span class="t-text" page="'+page+'">'+page+"</span>":'<span class="t-text t-site-search-pu__pagination-active" page="'+page+'">'+page+"</span>";html+="</div>"}html+="</div>"}else if(0!=sResults.total||initUp){if(void 0===sResults.pages&&sResults.total>0&&sResults.pagin>0){var siteSearchPreloader;html+='<div class="t-site-search-dm__result t-text">'+translation.noResult[lang]+"</div></div>",(siteSearchPreloader=document.querySelector(".t-site-search-popup__preloader"))&&(siteSearchPreloader.style.display="none")}}else{var siteSearchPreloader;html+='<div class="t-site-search-dm__result t-text">'+translation.noResult[lang]+"</div></div>",(siteSearchPreloader=document.querySelector(".t-site-search-popup__preloader"))&&(siteSearchPreloader.style.display="none")}html+="</div>";var siteSearchPopupBgList=document.querySelectorAll(".t-site-search-popup__background");Array.prototype.forEach.call(siteSearchPopupBgList,(function(siteSearchPopupBg){siteSearchPopupBg.remove()})),document.body.classList.add("body-fix");var currentInputPar=currentInput.closest("div.t-site-search-input"),currentInputParAttr=currentInputPar?currentInputPar.getAttribute("data-sidemenu-search"):null,siteSearchPreloader;currentInput.parentElement||currentInputParAttr?document.body.insertAdjacentHTML("beforeend",html):currentInputPar&&currentInputPar.insertAdjacentHTML("afterend",html),(siteSearchPreloader=document.querySelector(".t-site-search-popup__preloader"))&&(siteSearchPreloader.style.display="block")}function t_search__hidePopup(){if("URLSearchParams"in window){var search=new URLSearchParams(window.location.search),query=search.get("search"),slice=search.get("slice"),searchTarget=search.get("searchtarget");null!==query&&search.delete("search"),null!==slice&&search.delete("slice"),null!==searchTarget&&search.delete("searchtarget");try{""!==search.toString()?window.history.replaceState(null,"",window.location.pathname.replace(/\/+/g,"/")+"?"+t_search__escapeHtml(search.toString())):window.history.replaceState(null,"",window.location.pathname.replace(/\/+/g,"/"))}catch(e){}}document.body.classList.remove("body-fix");var siteSearchPopupBgList=document.querySelectorAll(".t-site-search-popup__background");Array.prototype.forEach.call(siteSearchPopupBgList,(function(siteSearchPopupBg){siteSearchPopupBg.remove()})),document.body.removeEventListener("keyup",t_search__waitEscPressed)}function t_search__searchDMClose(){var siteSearchDM=document.querySelectorAll(".t-site-search-dm");siteSearchDM.length&&(xhr&&xhr.abort(),Array.prototype.forEach.call(siteSearchDM,(function(siteSearchDMEl){siteSearchDMEl.remove()})),document.body.removeEventListener("keyup",t_search__waitEscPressed))}function t_search__requestSth(action,page,query){page=parseInt(page,10)||1;var cAction=action||1,allRec=document.getElementById("allrecords"),project=allRec?allRec.getAttribute("data-tilda-project-id"):"",searchTarget,search;""!==window.t_search__searchTarget?searchTarget=window.t_search__searchTarget:searchTarget=new URLSearchParams(window.location.search).get("searchtarget")||"all";var descrLength=50;if(currentInput&&void 0===query&&(query=currentInput.value),!(query.length<2)){xhr&&xhr.abort(),t_search__getActionBeforeSend(),xhr="";var request=new XMLHttpRequest;request.open("GET","https://search.tildacdn.com/search/?p="+project+"&q="+encodeURIComponent(query)+"&page="+page+"&hs=50&st="+searchTarget),request.send(),request.onprogress=function(){if(1==cAction)try{t_search__displayDownMenu(JSON.parse(request.response))}catch(e){}else try{t_search__displayPopup(JSON.parse(request.response))}catch(e){}},request.onload=function(){var currentInputParent=currentInput.closest("div");if(query.length>1){var currentSearchClose=currentInputParent?currentInputParent.querySelector(".t-site-search-close"):null;currentSearchClose&&(currentSearchClose.style.display="block")}var currentSearchLoader=currentInputParent?currentInputParent.querySelector(".t-site-search-loader"):null;currentSearchLoader&&(currentSearchLoader.style.display="none");var currentSearchBtn=currentInputParent?currentInputParent.querySelector("button"):null;currentSearchBtn&&(currentSearchBtn.removeAttribute("disabled"),currentSearchBtn.style.opacity=1);var searchAllLoaders=document.querySelectorAll(".t-site-search-showAllLoader");Array.prototype.forEach.call(searchAllLoaders,(function(searchAllLoader){searchAllLoader.remove()}))},request.onerror=function(){if(0!==request.status){var failData={total:1,error:!0,pages:{0:{id:0,pageurl:"#",title:translation.errorOccurred[lang],highlight:translation.errorOccurredText[lang]+". <br>"+translation.description[lang]+": "+request.statusText+" "+request.responseText}}};1==cAction?t_search__displayDownMenu(failData):t_search__displayPopup(failData)}}}function t_search__getActionBeforeSend(){var currentInputParent=currentInput.closest("div"),currentInputClose=currentInputParent?currentInputParent.querySelector(".t-site-search-close"):null;if(currentInputClose&&(currentInputClose.style.display="none"),2===cAction){t_search__displayPopup({},!0);var currentInputBtn=currentInputClose?currentInputClose.querySelector("button"):null;currentInputBtn&&(currentInputBtn.setAttribute("disabled","disabled"),currentInputBtn.style.opacity=.5),currentPage=page}else{var siteSearchLoader=currentInputParent?currentInputParent.querySelector(".t-site-search-loader"):null;siteSearchLoader&&("none"===siteSearchLoader.style.display?siteSearchLoader.style.display="block":siteSearchLoader.style.display=""),currentPage=1}inputFormWidth=currentInput.offsetWidth,inputFormLeft=currentInput.offsetLeft-1}}function t_search__escapeHtml(text){var map={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return text.replace(/[&<>"']/g,(function(el){return map[el]}))}t_search__inputInit(),t_search__setBtnEvent(),t_search__setInputsEvent(),document.body.addEventListener("click",(function(e){if(e.target.closest(".t-site-search-pu__pagination span[page]")){var currentEl=e.target.closest(".t-site-search-pu__pagination span[page]"),currentPage;currentEl.setAttribute("disabled","disabled"),t_search__requestSth(2,currentEl.getAttribute("page"))}})),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.msMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.oMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(s){for(var el=this;el&&1===el.nodeType;){if(Element.prototype.matches.call(el,s))return el;el=el.parentElement||el.parentNode}return null}),"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)})}"loading"!==document.readyState?t_search__init():document.addEventListener("DOMContentLoaded",t_search__init);